
<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    ul {
      list-style: none;
    }

    .box {
      width: 600px;
      margin: 100px auto;
      border: 1px solid #000;
      padding: 20px;
    }

    textarea {
      width: 450px;
      height: 160px;
      outline: none;
      resize: none;
    }

    ul {
      width: 450px;
      padding-left: 80px;
    }

    ul li {
      line-height: 25px;
      border-bottom: 1px dashed #cccccc;
    }

    input {
      float: right;
    }
  </style>
</head>
<body>

<div class="box" id="weibo">
  <span>微博发布</span>
  <textarea name="" id="txt" cols="30" rows="10"></textarea>
  <button id="btn">发布</button>
  <ul id="ul">

  </ul>
</div>
<!--<script>-->
<!--//思路-->
<!--//1. 给按钮注册点击事件-->
<!--//2. 获取到文本域的内容-->
<!--//3. 创建li标签，添加到ul中-->

<!--var txt = document.getElementById("txt");-->
<!--var btn = document.getElementById("btn");-->
<!--var ul = document.getElementById("ul");-->

<!--//1. 给btn注册点击事件-->
<!--btn.onclick = function () {-->
<!--//2. 获取文本域的内容,文本框  获取值都是用value-->
<!--var content = txt.value;-->
<!--//获取完内容之后，就可以把内容给清空了-->
<!--txt.value = "";-->


<!--//3. 创建li标签-->
<!--var li = document.createElement("li");-->
<!--ul.insertBefore(li, ul.children[0]);-->
<!--li.innerText = content;-->

<!--}-->

<!--</script>-->
</body>
</html>
<script>
  // 思路。
  //1 注册点击事件。
  // 2 获取文本框的内容  文本域比较特殊 和文本框一样 用value
  //3  创建li  并添加到ul中。
  var btn = document.getElementById('btn');
  var txt = document.getElementById('txt');
  var ul = document.getElementById('ul');
  //  var ul = document.querySelector('ul');
  //  给btn 注册点击事件，
  btn.onclick = function () {
    // 获取文本域的内容
//    alert('hhh');
    var content = txt.value;
    if(txt.value === ''){
      return;// 直接退出，后面的代码不执行。
    }
//    console.log(content);
    txt.value = '';
    // 判断用户输入的内容
    // 创建li
    var li = document.createElement('li');
    // 添加到ul中
    ul.insertBefore(li,ul.children[0]);
    // 设置li的内容
    li.innerText = content;
    // 添加删除功能
    var button = document.createElement('button');
//    // 将button 加入到li 中。
    li.appendChild(button);
//    //设置button 的内容
    button.innerText = '删除';
    button.style.float = 'right';
//    //  给button 注册点击事件。
    button.onclick = function () {
      // 删除元素。
      // 要删除li
      ul.removeChild(li);
    }
  }
</script>